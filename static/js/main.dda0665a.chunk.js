(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports=a(301)},141:function(e,t,a){},143:function(e,t,a){},145:function(e,t,a){},217:function(e,t,a){},281:function(e,t,a){},287:function(e,t,a){},289:function(e,t,a){},291:function(e,t,a){},293:function(e,t,a){},295:function(e,t,a){},297:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(9),l=a.n(s),i=(a(141),a(16)),c=a(17),o=a(19),u=a(18),m=a(20),p=a(12),d=(a(143),a(145),a(306)),g=a(42),h=a(308),f=a(119),v=a.n(f),b=(a(152),a(154),v.a.initializeApp({apiKey:"AIzaSyAvTDv8BkWSptm5EU0Va_UlGxnQ_scTxi8",authDomain:"panacloud-69d98.firebaseapp.com",databaseURL:"https://panacloud-69d98.firebaseio.com",projectId:"panacloud-69d98",storageBucket:"panacloud-69d98.appspot.com",messagingSenderId:"690148022392"})),y=b.auth();function E(e){var t=r.a.createElement(d.a,null,r.a.createElement(d.a.Item,null,r.a.createElement("p",{onClick:function(){e.LogOut(y.currentUser.displayName)}},"Logout ",r.a.createElement(g.a,{type:"logout",theme:"outlined",style:{fontSize:"1.2em"}}))));return r.a.createElement("nav",null,r.a.createElement("span",{className:"brand",onClick:e.getHome},"Panacloud"),r.a.createElement("span",{className:"user"},y.currentUser?r.a.createElement(h.a,{overlay:t},r.a.createElement("a",{className:"ant-dropdown-link"},r.a.createElement(g.a,{type:"user",theme:"outlined",style:{color:"black",fontSize:"1.5em"}}),y.currentUser.displayName)):r.a.createElement(g.a,{type:"login",theme:"outlined",style:{color:"black",fontSize:"1.5em"}})))}a(217);var S=a(304),O=a(302),j=a(307),z=a(311),k=a(72),w=S.a.Item,I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loginPage:!0},a.showRegisterPage=a.showRegisterPage.bind(Object(p.a)(Object(p.a)(a))),a.showLoginPage=a.showLoginPage.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){if(console.log(e),!e){var n=t.state.loginPage;console.log("Received values of form: ",a),t.props.loggingIn(a,n)}})}},{key:"showRegisterPage",value:function(e){e.preventDefault(),this.setState({loginPage:!1})}},{key:"showLoginPage",value:function(e){e.preventDefault(),this.setState({loginPage:!0})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.loginPage;return r.a.createElement(S.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement("h3",null,t?"Login":"Register"),r.a.createElement(O.a,null),!t&&r.a.createElement(w,null,e("userName",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(j.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(w,null,e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(j.a,{prefix:r.a.createElement(g.a,{type:"mail",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"email"}))),r.a.createElement(w,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(j.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(w,null,e("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(z.a,null,"Remember me")),r.a.createElement(k.a,{type:"primary",htmlType:"submit",className:"login-form-button"},t?"Log in":"Register"),"Or ",t?r.a.createElement("a",{onClick:this.showRegisterPage},"register now!"):r.a.createElement("a",{onClick:this.showLoginPage},"Log in")))}}]),t}(n.Component),N=S.a.create()(I),q=a(305),Q=a(283),C=a(284),P=a(69),x=a.n(P),A=a(70),T=a.n(A),R=a(71),H=a.n(R),D=(a(281),q.a.Meta);var U=function(e){return r.a.createElement("div",{className:"quizClasses",style:{padding:"30px"}},r.a.createElement(Q.a,{gutter:20},r.a.createElement(C.a,{md:8,className:"centerChild"},r.a.createElement("div",{onClick:function(){return e.screenHandler("html")}},r.a.createElement(q.a,{hoverable:!0,style:{width:300},cover:r.a.createElement("img",{alt:"example",src:T.a}),actions:["Enter Quiz"]},r.a.createElement(D,{title:"HTML5 "})))),r.a.createElement(C.a,{md:8,className:"centerChild"},r.a.createElement("div",{onClick:function(){return e.screenHandler("css")}},r.a.createElement(q.a,{hoverable:!0,style:{width:300},cover:r.a.createElement("img",{alt:"example",src:H.a}),actions:["Enter Quiz"]},r.a.createElement(D,{title:"CSS3"})))),r.a.createElement(C.a,{md:8,className:"centerChild"},r.a.createElement("div",{onClick:function(){return e.screenHandler("js")}},r.a.createElement(q.a,{hoverable:!0,style:{width:300},cover:r.a.createElement("img",{alt:"example",src:x.a}),actions:["Enter Quiz"]},r.a.createElement(D,{title:"JavaScript"}))))))},K=(a(287),a(303)),L=(a(289),q.a.Meta),M=b.database(),B=function(e){function t(e){var a,n,r;switch(Object(i.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e)),e.category){case"html":n=T.a,r="htmlQuiz";break;case"css":n=H.a,r="cssQuiz";break;case"js":n=x.a,r="jsQuiz"}return a.quizRef=M.ref(r),a.passingRef=M.ref("passingCriteria").child(r),a.givenQuiz=M.ref("users").child("".concat(a.props.userId,"/").concat(r)),a.state={quizCategoryObject:null,passingMarks:null,coverPic:n,quizToShow:r,loader:!0,quizAlreadyGiven:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n=this;this.quizRef.once("value",function(r){e=r.val(),n.passingRef.once("value",function(r){t=r.val(),n.givenQuiz.once("value",function(r){a=r.val(),n.setState({quizCategoryObject:e,passingMarks:t,loader:!1,quizAlreadyGiven:a})})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.quizCategoryObject,n=t.coverPic,s=t.loader,l=t.passingMarks,i=t.quizAlreadyGiven;return r.a.createElement("div",{className:"quizSubClasses",style:{padding:"30px"}},s?r.a.createElement(K.a,{size:"large",className:"spinner"}):a?r.a.createElement(Q.a,{gutter:20},Object.keys(a).map(function(t,s){return r.a.createElement(C.a,{md:8,className:"centerChild",key:t},r.a.createElement("div",null,r.a.createElement(q.a,{hoverable:!0,style:{width:300},cover:r.a.createElement("img",{alt:"example",src:n})},r.a.createElement(L,{title:e.props.category.toUpperCase()+" Quiz ".concat(++s)}),r.a.createElement("br",null),r.a.createElement("p",null,"Passing marks: ",l[t],"%"),i&&i.hasOwnProperty(t)?r.a.createElement("div",{className:"quizGivenInfo"},r.a.createElement("p",null,"Date: ",i[t].date),r.a.createElement("p",null,"Obtained Score: ",i[t].score,"%"),r.a.createElement("p",null,"Status: ",i[t].result),r.a.createElement(k.a,{type:"primary",className:"enterQuizBtn",disabled:!0},"Enter")):r.a.createElement("div",{className:"quizNotGivenInfo"},r.a.createElement("p",null,"Total questions: ",Object.keys(a[t]).length),r.a.createElement(k.a,{type:"primary",className:"enterQuizBtn",onClick:function(){return e.props.subQuizHandler("proctoringPage",t,!0)}},"Enter")))))})):r.a.createElement("h2",null,"No Quiz Added Yet"))}}]),t}(n.Component),G=a(309),J=(a(291),S.a.Item),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).error=function(e){G.a.error(e)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(a.props.pKey===t.password?a.props.subQuizHandler("quizStarted",a.props.pKey):a.error("invalid key"))})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"proctorPage"},r.a.createElement(Q.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(C.a,{md:12,sm:16,xs:20},r.a.createElement(q.a,{title:"Enter Key"},r.a.createElement(S.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(J,null,e("password",{rules:[{required:!0,message:"Please input proctoring Key!"}]})(r.a.createElement(j.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Key"}))),r.a.createElement(J,null,r.a.createElement(k.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))))))}}]),t}(n.Component),W=S.a.create()(F),V=a(310),Y=(a(293),b.database()),_=V.a.Group,X=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){console.log("radio checked",e.target.value),a.setState({value:e.target.value,disabled:!1})};var n=a.props.quizToStart,r=a.props.mainQuiz,s=Y.ref(r+"Quiz").child(n),l=localStorage.getItem("iterator")||0,c=JSON.parse(localStorage.getItem("userAnswers"))||[];return a.state={loader:!0,ref:s,questionArray:null,questionsObj:null,iterator:parseInt(l),value:null,userAnswers:c,disabled:!0},a.nextQuestion=a.nextQuestion.bind(Object(p.a)(Object(p.a)(a))),a.calculateResult=a.calculateResult.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;this.state.ref.once("value",function(a){var n=a.val();e=Object.keys(n),t.setState({questionArray:e,questionsObj:n,loader:!1})})}},{key:"componentWillUnmount",value:function(){localStorage.removeItem("userAnswers"),localStorage.removeItem("iterator")}},{key:"nextQuestion",value:function(){var e=this.state,t=e.iterator,a=e.value,n=e.userAnswers;n.push(a),localStorage.setItem("userAnswers",JSON.stringify(n)),t=parseInt(t),localStorage.setItem("iterator",++t),this.setState({iterator:t,userAnswers:n,value:null,disabled:!0})}},{key:"calculateResult",value:function(){var e,t,a=this,n=this.state,r=n.userAnswers,s=n.questionsObj,l=n.questionArray,i=n.value,c=0,o=l.length,u=new Date,m=u.getDate(),p=u.getMonth()+1,d=u.getFullYear();r.push(i),localStorage.setItem("userAnswers",JSON.stringify(r)),localStorage.setItem("iterator",0),this.setState({userAnswers:r,value:null,iterator:0}),l.forEach(function(e,t){s[e].correct===r[t]&&(c+=1)}),m<10&&(m="0"+m),p<10&&(p="0"+p),u=p+"/"+m+"/"+d,e=c/o*100,t=c>=o?"pass":"fail",Y.ref("users/".concat(this.props.userId,"/").concat(this.props.mainQuiz,"Quiz/").concat(this.props.quizToStart)).update({score:Math.round(e),date:u,result:t}).then(function(){a.props.showResult()})}},{key:"render",value:function(){var e,t,a=this.state,n=a.loader,s=a.iterator,l=a.questionArray,i=a.questionsObj,c=a.disabled,o=a.userAnswers;if(!n&&o.length===l.length)return null;var u={display:"block",height:"30px",lineHeight:"30px"};return n||(e=l.length,t=Object.keys(i[l[s]]).filter(function(e){return"correct"!==e&&"question"!==e})),r.a.createElement("div",{className:"quizQuestions"},n?r.a.createElement(K.a,{size:"large",className:"spinner"}):r.a.createElement(Q.a,{type:"flex",justify:"space-around",align:"middle"},r.a.createElement(C.a,{md:16,sm:20,xs:22},r.a.createElement(q.a,{title:"".concat(parseInt(s)+1," of ").concat(e)},r.a.createElement("h2",{className:"questionText"},i[l[s]].question),r.a.createElement(_,{onChange:this.onChange,value:this.state.value},t.map(function(e,t){return r.a.createElement(V.a,{key:e,style:u,value:e},i[l[s]][e])})),s+1===l.length?r.a.createElement(k.a,{type:"primary",className:"nextBtn",disabled:c,onClick:this.calculateResult},"Submit"):r.a.createElement(k.a,{type:"primary",className:"nextBtn",disabled:c,onClick:this.nextQuestion},"Next")))))}}]),t}(n.Component),Z=(a(295),a(297),b.database()),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={loader:!0,passingScore:null,date:null,userScore:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;Z.ref("passingCriteria").child(this.props.mainQuiz+"Quiz").child(this.props.subQuiz).once("value",function(t){Z.ref("users").child("".concat(e.props.userId,"/").concat(e.props.mainQuiz,"Quiz/").concat(e.props.subQuiz)).once("value",function(a){e.setState({passingScore:t.val(),loader:!1,date:a.val().date,userScore:a.val().score})})})}},{key:"render",value:function(){var e,t,a=this.state,n=a.loader,s=a.passingScore,l=a.userScore;return n||(parseInt(l)>=parseInt(s)?(t="green",e="Congratulations you have passed"):(t="orange",e="Sorry you have failed")),r.a.createElement("div",{className:"result"},n?r.a.createElement(K.a,{size:"large",className:"spinner"}):r.a.createElement(Q.a,{type:"flex",justify:"space-around",align:"middle"},r.a.createElement(C.a,{md:12,sm:16,xs:20},r.a.createElement(q.a,{title:"Result",bodyStyle:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},r.a.createElement("div",{className:"c100 p".concat(l," big ").concat(t)},r.a.createElement("span",null,"".concat(l,"%")),r.a.createElement("div",{className:"slice"},r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"fill"}))),r.a.createElement("h2",null,e),r.a.createElement(k.a,{type:"primary",className:"homeBtn",onClick:this.props.getHome},"Home")))))}}]),t}(n.Component),ee=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=localStorage.getItem("quizScreen")||a.props.parentState.screens,r=localStorage.getItem("proctoringKey")||null,s=a.props.parentState.user;return a.state={quizScreens:n,userId:s,proctoringKey:r},a.screenToShowInQuizPage=a.screenToShowInQuizPage.bind(Object(p.a)(Object(p.a)(a))),a.showUserResult=a.showUserResult.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){localStorage.removeItem("proctoringKey"),localStorage.removeItem("quizScreen")}},{key:"screenToShowInQuizPage",value:function(e,t){localStorage.setItem("quizScreen",e),localStorage.setItem("proctoringKey",t),this.setState({quizScreens:e,proctoringKey:t})}},{key:"showUserResult",value:function(){localStorage.setItem("quizScreen","resultScreen"),this.setState({quizScreens:"resultScreen"})}},{key:"render",value:function(){var e,t=this.state,a=t.quizScreens,n=t.proctoringKey,s=t.userId;return e="html"===a||"css"===a||"js"===a,r.a.createElement("div",{className:"quizScreen"},e&&r.a.createElement(B,{userId:s,subQuizHandler:this.screenToShowInQuizPage,category:a}),"proctoringPage"===a&&r.a.createElement(W,{subQuizHandler:this.screenToShowInQuizPage,pKey:n}),"quizStarted"===a&&r.a.createElement(X,{mainQuiz:this.props.parentState.screens,quizToStart:n,showResult:this.showUserResult,userId:s}),"resultScreen"===a&&r.a.createElement($,{mainQuiz:this.props.parentState.screens,subQuiz:n,userId:s,getHome:this.props.getHome}))}}]),t}(n.Component),te=b.auth(),ae=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(o.a)(this,Object(u.a)(t).call(this,e));var n=localStorage.getItem("screens")||"home";return a.state={user:null,displayName:null,screens:n,loader:!0},a.logIn=a.logIn.bind(Object(p.a)(Object(p.a)(a))),a.logOut=a.logOut.bind(Object(p.a)(Object(p.a)(a))),a.screenToShow=a.screenToShow.bind(Object(p.a)(Object(p.a)(a))),a.getToHome=a.getToHome.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logIn",value:function(e,t){var a=this,n=e.email,r=e.password,s=function(e){G.a.error(e)};t?te.signInWithEmailAndPassword(n,r).then(function(e){}).catch(function(e){s(e.message)}):te.createUserWithEmailAndPassword(n,r).then(function(t){a.setState({displayName:e.userName})}).catch(function(e){s(e.message)})}},{key:"logOut",value:function(e){var t=this;te.signOut().then(function(){var a;a="".concat(e," logged out"),G.a.success(a),localStorage.clear(),t.setState({user:null,screens:"home"})})}},{key:"componentDidMount",value:function(){var e=this;console.log(this.userName),b.auth().onAuthStateChanged(function(t){if(t){var a=b.auth().currentUser;if(!a.displayName){var n=e.state.displayName;a.updateProfile({displayName:n}).then(function(){a.emailVerified||a.sendEmailVerification().then(function(){var e;e="verify your email",G.a.warning(e)}).catch(function(e){e(e.message)})})}console.log("".concat(a.uid," signed in")),e.setState({user:a.uid,loader:!1})}else console.log("no one signed in"),e.setState({loader:!1})})}},{key:"screenToShow",value:function(e){localStorage.setItem("screens",e),this.setState({screens:e})}},{key:"getToHome",value:function(){localStorage.setItem("screens","home"),this.setState({screens:"home"})}},{key:"mainAppComponents",value:function(){var e=this.state,t=e.user,a=e.screens;return r.a.createElement("div",null,r.a.createElement(E,{LogOut:this.logOut,getHome:this.getToHome}),!t&&r.a.createElement(N,{loggingIn:this.logIn}),t&&"home"===a&&r.a.createElement(U,{screenHandler:this.screenToShow}),t&&"home"!==a&&r.a.createElement(ee,{getHome:this.getToHome,parentState:this.state}))}},{key:"render",value:function(){var e;return e=this.state.loader?r.a.createElement(K.a,{size:"large",className:"spinner"}):this.mainAppComponents(),r.a.createElement("div",{className:"App"},e)}}]),t}(n.Component);a(299);l.a.render(r.a.createElement(ae,null),document.getElementById("root"))},69:function(e,t,a){e.exports=a.p+"static/media/js.88ed1acb.png"},70:function(e,t,a){e.exports=a.p+"static/media/html.87f46e14.png"},71:function(e,t,a){e.exports=a.p+"static/media/css3.32182cc1.png"}},[[136,2,1]]]);
//# sourceMappingURL=main.dda0665a.chunk.js.map